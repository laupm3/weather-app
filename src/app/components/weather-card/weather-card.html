<div *ngIf="weatherData" class="weather-card">
    <div class="card-header">
        <div class="header-top">
            <h2 class="city-name">{{ weatherData.name }}</h2>
            <button class="favorite-btn" [class.active]="isFavorite()" (click)="toggleFavorite()"
                [attr.aria-label]="langService.get('TOGGLE_FAVORITE')">
                <svg viewBox="0 0 24 24" class="heart-svg">
                    <path
                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                </svg>
            </button>
        </div>
        <p class="date">{{ weatherData.dt * 1000 | date:'EEEE, MMM d':undefined:langService.getCurrentLang() }}</p>
    </div>

    <div class="card-body">
        <div class="weather-main">
            <img [src]="'https://openweathermap.org/img/wn/' + weatherData.weather[0].icon + '@4x.png'"
                [alt]="weatherData.weather[0].description" class="weather-icon" />
            <div class="temp-container">
                <span class="temperature">{{ weatherData.main.temp | number: '1.0-1' }}Â°{{ units === 'metric' ? 'C' :
                    'F' }}</span>
                <span class="description">{{ weatherData.weather[0].description }}</span>
            </div>
        </div>

        <div class="details-grid">
            <div class="detail-card glass">
                <div class="detail-icon">ğŸ’§</div>
                <div class="detail-info">
                    <span class="detail-label">{{ langService.get('HUMIDITY') }}</span>
                    <span class="detail-value">{{ weatherData.main.humidity }}%</span>
                </div>
            </div>
            <div class="detail-card glass">
                <div class="detail-icon">ğŸ’¨</div>
                <div class="detail-info">
                    <span class="detail-label">{{ langService.get('WIND_SPEED') }}</span>
                    <span class="detail-value">{{ weatherData.wind.speed }} {{ units === 'metric' ? 'm/s' : 'mph'
                        }}</span>
                </div>
            </div>
            <div class="detail-card glass">
                <div class="detail-icon">ğŸŒ¡ï¸</div>
                <div class="detail-info">
                    <span class="detail-label">{{ langService.get('FEELS_LIKE') }}</span>
                    <span class="detail-value">{{ weatherData.main.feels_like | number: '1.0-1' }}Â°</span>
                </div>
            </div>
            <div class="detail-card glass">
                <div class="detail-icon">ğŸ‘ï¸</div>
                <div class="detail-info">
                    <span class="detail-label">{{ langService.get('VISIBILITY') }}</span>
                    <span class="detail-value">{{ weatherData.visibility / 1000 }} km</span>
                </div>
            </div>
        </div>
    </div>
</div>