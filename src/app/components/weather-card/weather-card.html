<div *ngIf="weatherData" class="weather-card">
    <div class="card-header">
        <div class="header-top">
            <h2 class="city-name">{{ weatherData.name }}</h2>
            <button class="favorite-btn" [class.active]="isFavorite()" (click)="toggleFavorite()"
                aria-label="Toggle favorite">
                <svg viewBox="0 0 24 24" class="heart-svg">
                    <path
                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                </svg>
            </button>
        </div>
        <p class="date">{{ weatherData.dt * 1000 | date:'EEEE, MMM d' }}</p>
    </div>

    <div class="card-body">
        <div class="weather-main">
            <img [src]="'https://openweathermap.org/img/wn/' + weatherData.weather[0].icon + '@4x.png'"
                [alt]="weatherData.weather[0].description" class="weather-icon" />
            <div class="temp-container">
                <span class="temperature">{{ weatherData.main.temp | number: '1.0-1' }}°C</span>
                <span class="description">{{ weatherData.weather[0].description }}</span>
            </div>
        </div>

        <div class="weather-details">
            <div class="detail-item">
                <span class="label">Feels like</span>
                <span class="value">{{ weatherData.main.feels_like | number: '1.0-1' }}°C</span>
            </div>
            <div class="detail-item">
                <span class="label">Humidity</span>
                <span class="value">{{ weatherData.main.humidity }}%</span>
            </div>
            <div class="detail-item">
                <span class="label">Wind</span>
                <span class="value">{{ weatherData.wind.speed }} m/s</span>
            </div>
        </div>
    </div>
</div>